<clr-main-container>

    <fema-cms-header></fema-cms-header>

    <div class="content-container">

        <fema-cms-nav></fema-cms-nav>

        <main class="content-area" #clrContentArea>

            <h1>Edit Approval</h1>

            
            <form>
                <section class="form-block">
                    <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-6">
                    <div class="form-group">
                        <label for="workflowNameField" class="required">Workflow Name : </label>
                        <label>{{setupview?.avmName}}</label>
                        </div> 
                    </div>
                    <div class="col-xs-6 col-sm-12 col-md-12 col-lg-12 col-xl-6">
                        <div class="form-group" *ngIf="setupview?.avmVersionEntities.length > 0">
                        
                            <label for="version" class="required">Start Date</label>    
                            <div id="version">
                                <div *ngFor="let version of setupview?.avmVersionEntities">
                                    {{version?.effectiveStartDate | date :'dd-MMM-yyyy'}} 
                            </div>
                        </div>
                        </div>
                        
                            
                        
                    </div>

                </div>
                    <div class="row"> 
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-6">
                    <div class="form-group">
                        <label for="transactionTypeField" class="required">Transaction Type</label>
                        <span class="select">
                                
                            <select id="select" disabled="disabled">
                                    
                                <option *ngFor="let category of categoryList" 
                                        [selected]="category.value===setupview?.category">
                                        {{transaction?.label}} - {{transaction?.value}}
                                </option>
                                
                            </select>
                            
                        </span>
                        <label>{{setupview?.transactionType}}</label>                        
                        </div>
                    </div> 
                    <div class="col-xs-6 col-sm-12 col-md-12 col-lg-12 col-xl-6">
                        <div class="form-group" *ngIf="setupview?.avmVersionEntities.length > 0">
                        
                            <label for="version" class="required">End Date</label>    
                            <div id="version">
                                <div *ngFor="let version of setupview?.avmVersionEntities">
                                    {{version?.effectiveEndDate | date :'dd-MMM-yyyy'}} 
                            </div>
                        </div>
                        </div>
                        
                            
                        
                    </div>
                    </div>
                    
                    
                                    
        
        </section>
        <hr/>   
        <div class="form-block">
            
        <label>Level Approval</label>
            
        <div>

            <!-- div dinamis level -->
            <div >
            

                <div class="level-approval-border">
        
                    <div class="form-group">
                        <label for="approverTypeField" class="required">Approver Type</label>
                        <label>{{setupview?.avmApproverType}}</label>
                    </div>                  
    
                    <div class="form-group">
                        <label for="approverField" class="required">Approver</label>
                        <label>{{setupview?.approverName}}</label>                     
                    </div>
    
                    
                        <div class="form-group" *ngIf="setupview?.avmVersionEntities.length > 0">
                        
                            <label for="version" class="required">Require approval from</label>    
                            <div id="version">
                                <div *ngFor="let version of setupview?.avmVersionEntities.avmLevelEntities">
                                    {{version?.avmLevelMethod}} 
                            </div>
                            <label>approval</label>
                        </div>
                        </div>
                    
                </div>
            

            </div> 
       
    </div> 
          <!-- </div>        -->
          <div class="btn-group btn-primary btn-right">

            <button type="submit"
                    class="btn btn-icon"
                    [clrLoading]="uiState?.isSaving"
                    >

                <clr-icon shape="floppy"></clr-icon>

                Save

            </button>

            <button type="button"
                    class="btn btn-icon btn-danger"
                    (click)="$event.preventDefault(); uiState.deleteModalIsOpen = true;">

                <clr-icon shape="trash"></clr-icon>

                Delete

            </button>

            <button type="button"
                    class="btn btn-icon"
                    (click)="$event.preventDefault(); uiState.cancelModalIsOpen = true;">

                <clr-icon shape="undo"></clr-icon>

                Cancel

            </button>

        </div>
           
        </div>
        
        </form>
        <fema-cms-modal-cancel 
                [(isOpen)]="uiState.cancelModalIsOpen"
                [returnLink]="'/workflow/search'"></fema-cms-modal-cancel> 
        
        </main>    
    </div> 

</clr-main-container> 